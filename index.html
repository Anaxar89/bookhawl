<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <meta name="theme-color" content="#080d1a">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <title>BookHawl ‚Äî Accedi</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <!-- Styles -->
  <link rel="stylesheet" href="./src/styles/global.css">
  <link rel="stylesheet" href="./src/styles/auth.css">
</head>
<body>

  <!-- ===== BACKGROUND ===== -->
  <div class="auth-bg">
    <div class="auth-bg__gradient"></div>
    <div class="auth-bg__horizon"></div>
    <div class="auth-bg__stars" id="starsContainer"></div>
  </div>

  <!-- ===== TOAST ===== -->
  <div class="toast" id="toast" role="alert" aria-live="polite"></div>

  <!-- ===== PAGE ===== -->
  <main class="auth-page">

    <!-- Logo -->
    <div class="auth-logo">
      <div class="auth-logo__glow">
        <img
          src="./src/assets/logo.png"
          alt="BookHawl logo"
          class="auth-logo__img"
          width="180"
          height="180"
        >
      </div>
      <p class="auth-logo__tagline">La tua libreria personale</p>
    </div>

    <!-- Card -->
    <div class="auth-card">

      <!-- Tabs: Login / Registrati -->
      <div class="auth-tabs" role="tablist">
        <button
          class="auth-tab is-active"
          id="tab-login"
          role="tab"
          aria-selected="true"
          aria-controls="panel-login"
          data-tab="login"
        >Accedi</button>
        <button
          class="auth-tab"
          id="tab-register"
          role="tab"
          aria-selected="false"
          aria-controls="panel-register"
          data-tab="register"
        >Registrati</button>
      </div>

      <!-- ===== PANEL: LOGIN ===== -->
      <div id="panel-login" role="tabpanel" aria-labelledby="tab-login">

        <form id="form-login" novalidate>

          <!-- Email -->
          <div class="form-group">
            <label class="form-label" for="login-email">Email</label>
            <div class="input-wrap">
              <span class="input-wrap__icon">‚úâÔ∏è</span>
              <input
                class="form-input"
                type="email"
                id="login-email"
                name="email"
                placeholder="nome@esempio.com"
                autocomplete="email"
                inputmode="email"
                required
              >
            </div>
            <p class="form-error-msg" id="login-email-error"></p>
          </div>

          <!-- Password -->
          <div class="form-group">
            <label class="form-label" for="login-password">Password</label>
            <div class="input-wrap">
              <span class="input-wrap__icon">üîí</span>
              <input
                class="form-input"
                type="password"
                id="login-password"
                name="password"
                placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                autocomplete="current-password"
                required
              >
            </div>
            <p class="form-error-msg" id="login-password-error"></p>
            <div class="form-footer">
              <button type="button" class="btn-link" id="btn-forgot">Password dimenticata?</button>
            </div>
          </div>

          <!-- Submit -->
          <button type="submit" class="btn-primary" id="btn-login">
            <span class="btn-text">Accedi</span>
            <div class="btn-spinner"></div>
          </button>

        </form>

        <!-- Divider -->
        <div class="auth-divider">oppure</div>

        <!-- Social buttons -->
        <button class="btn-social" id="btn-google" type="button">
          <span class="btn-social__icon">
            <!-- Google SVG -->
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
              <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
              <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z"/>
              <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
            </svg>
          </span>
          <span class="btn-social__label">Continua con Google</span>
        </button>

        <button class="btn-social" id="btn-apple" type="button">
          <span class="btn-social__icon">
            <!-- Apple SVG -->
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor">
              <path d="M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.7 9.05 7.4c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.39-1.32 2.76-2.53 4zm-3.14-17.6c.06 2.06-1.52 3.65-3.48 3.5-.27-1.93 1.54-3.62 3.48-3.5z"/>
            </svg>
          </span>
          <span class="btn-social__label">Continua con Apple</span>
        </button>

      </div>
      <!-- /panel-login -->

      <!-- ===== PANEL: REGISTER ===== -->
      <div id="panel-register" role="tabpanel" aria-labelledby="tab-register" hidden>

        <!-- Success screen (shown after email confirmation sent) -->
        <div class="success-screen" id="register-success">
          <div class="success-screen__icon">üì¨</div>
          <p class="success-screen__title">Controlla la tua email!</p>
          <p class="success-screen__body">
            Ti abbiamo inviato un link di conferma.<br>
            Clicca sul link per attivare il tuo account BookHawl.
          </p>
        </div>

        <form id="form-register" novalidate>

          <!-- Nome -->
          <div class="form-group">
            <label class="form-label" for="reg-name">Nome</label>
            <div class="input-wrap">
              <span class="input-wrap__icon">üë§</span>
              <input
                class="form-input"
                type="text"
                id="reg-name"
                name="name"
                placeholder="Il tuo nome"
                autocomplete="given-name"
                required
              >
            </div>
            <p class="form-error-msg" id="reg-name-error"></p>
          </div>

          <!-- Email -->
          <div class="form-group">
            <label class="form-label" for="reg-email">Email</label>
            <div class="input-wrap">
              <span class="input-wrap__icon">‚úâÔ∏è</span>
              <input
                class="form-input"
                type="email"
                id="reg-email"
                name="email"
                placeholder="nome@esempio.com"
                autocomplete="email"
                inputmode="email"
                required
              >
            </div>
            <p class="form-error-msg" id="reg-email-error"></p>
          </div>

          <!-- Password -->
          <div class="form-group">
            <label class="form-label" for="reg-password">Password</label>
            <div class="input-wrap">
              <span class="input-wrap__icon">üîí</span>
              <input
                class="form-input"
                type="password"
                id="reg-password"
                name="password"
                placeholder="Min. 8 caratteri, 1 maiuscola, 1 numero"
                autocomplete="new-password"
                required
              >
            </div>
            <p class="form-error-msg" id="reg-password-error"></p>
          </div>

          <!-- Conferma Password -->
          <div class="form-group">
            <label class="form-label" for="reg-confirm">Conferma password</label>
            <div class="input-wrap">
              <span class="input-wrap__icon">üîí</span>
              <input
                class="form-input"
                type="password"
                id="reg-confirm"
                name="confirm"
                placeholder="Ripeti la password"
                autocomplete="new-password"
                required
              >
            </div>
            <p class="form-error-msg" id="reg-confirm-error"></p>
          </div>

          <!-- Submit -->
          <button type="submit" class="btn-primary" id="btn-register">
            <span class="btn-text">Crea account</span>
            <div class="btn-spinner"></div>
          </button>

        </form>

        <!-- Divider -->
        <div class="auth-divider">oppure</div>

        <!-- Social (same as login) -->
        <button class="btn-social" id="btn-google-reg" type="button">
          <span class="btn-social__icon">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
              <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
              <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z"/>
              <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
            </svg>
          </span>
          <span class="btn-social__label">Continua con Google</span>
        </button>

        <button class="btn-social" id="btn-apple-reg" type="button">
          <span class="btn-social__icon">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor">
              <path d="M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.7 9.05 7.4c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.39-1.32 2.76-2.53 4zm-3.14-17.6c.06 2.06-1.52 3.65-3.48 3.5-.27-1.93 1.54-3.62 3.48-3.5z"/>
            </svg>
          </span>
          <span class="btn-social__label">Continua con Apple</span>
        </button>

      </div>
      <!-- /panel-register -->

      <!-- ===== PANEL: FORGOT PASSWORD ===== -->
      <div id="panel-forgot" role="tabpanel" hidden>

        <button type="button" class="btn-link" id="btn-back-to-login" style="margin-bottom:16px; display:block;">
          ‚Üê Torna al login
        </button>

        <div class="success-screen" id="forgot-success">
          <div class="success-screen__icon">üìß</div>
          <p class="success-screen__title">Email inviata!</p>
          <p class="success-screen__body">
            Controlla la tua casella di posta e clicca<br>
            il link per reimpostare la password.
          </p>
        </div>

        <form id="form-forgot" novalidate>
          <p style="color: var(--color-muted); font-size:0.9rem; margin-bottom:16px; line-height:1.6;">
            Inserisci la tua email e ti manderemo le istruzioni per reimpostare la password.
          </p>

          <div class="form-group">
            <label class="form-label" for="forgot-email">Email</label>
            <div class="input-wrap">
              <span class="input-wrap__icon">‚úâÔ∏è</span>
              <input
                class="form-input"
                type="email"
                id="forgot-email"
                name="email"
                placeholder="nome@esempio.com"
                autocomplete="email"
                inputmode="email"
                required
              >
            </div>
            <p class="form-error-msg" id="forgot-email-error"></p>
          </div>

          <button type="submit" class="btn-primary" id="btn-forgot-submit">
            <span class="btn-text">Invia link di reset</span>
            <div class="btn-spinner"></div>
          </button>
        </form>

      </div>
      <!-- /panel-forgot -->

    </div>
    <!-- /auth-card -->

  </main>

  <script type="module" src="./src/scripts/auth.js"></script>
</body>
</html>
